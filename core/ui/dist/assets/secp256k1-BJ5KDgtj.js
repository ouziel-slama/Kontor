import{B as Y}from"./bitcoin-lib-FVHMOBT4.js";const z="0123456789abcdefABCDEF";z.split("").map(n=>n.codePointAt(0));Array(256).fill(!0).map((n,t)=>{const e=String.fromCodePoint(t),i=z.indexOf(e);return i<0?void 0:i<16?i:i-6});new TextEncoder;new TextDecoder("ascii");function fn(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;++i)if(n[i]!==t[i])return n[i]<t[i]?-1:1;return n.length===t.length?0:n.length>t.length?1:-1}const q=0,x=1,J=2,Q=3,p=4,nn=5,tn=6,en=7,un={[q.toString()]:"Expected Private",[x.toString()]:"Expected Point",[J.toString()]:"Expected Tweak",[Q.toString()]:"Expected Hash",[p.toString()]:"Expected Signature",[nn.toString()]:"Expected Extra Data (32 bytes)",[tn.toString()]:"Expected Parity (1 | 0)",[en.toString()]:"Bad Recovery Id"};function c(n){const t=un[n.toString()]||`Unknow error code: ${n}`;throw new TypeError(t)}const b=32,v=33,h=65,T=32,rn=32,on=32,ln=32,L=64,sn=new Uint8Array(32),O=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Pn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function y(n){return n instanceof Uint8Array}function E(n,t){for(let e=0;e<32;++e)if(n[e]!==t[e])return n[e]<t[e]?-1:1;return 0}function B(n){return E(n,sn)===0}function an(n){return y(n)&&n.length===b&&E(n,sn)>0&&E(n,O)<0}function yn(n){return y(n)&&(n.length===v||n.length===h||n.length===T)}function cn(n){return y(n)&&n.length===T}function dn(n){return y(n)&&(n.length===v||n.length===h)}function Tn(n){return y(n)&&n.length===v}function An(n){return y(n)&&n.length===rn&&E(n,O)<0}function In(n){return y(n)&&n.length===on}function En(n){return n===void 0||y(n)&&n.length===ln}function Un(n){return y(n)&&n.length===64&&E(n.subarray(0,32),O)<0&&E(n.subarray(32,64),O)<0}function Sn(n){return y(n)&&n.length===64&&E(n.subarray(0,32),Pn)<0}function Nn(n){n!==0&&n!==1&&c(tn)}function A(n){an(n)||c(q)}function U(n){yn(n)||c(x)}function C(n){cn(n)||c(x)}function N(n){An(n)||c(J)}function R(n){In(n)||c(Q)}function K(n){En(n)||c(nn)}function w(n){Un(n)||c(p)}function Rn(n){n()||c(p)}function gn(n){B(n.subarray(0,32))&&c(p),B(n.subarray(32,64))&&c(p)}function pn(n){Sn(n)||c(en)}const vn="/assets/secp256k1-2IQOMy_D.wasm",bn=async(n={},t)=>{let e;if(t.startsWith("data:")){const i=t.replace(/^data:.*?base64,/,"");let a;if(typeof Y=="function"&&typeof Y.from=="function")a=Y.from(i,"base64");else if(typeof atob=="function"){const I=atob(i);a=new Uint8Array(I.length);for(let m=0;m<I.length;m++)a[m]=I.charCodeAt(m)}else throw new Error("Cannot decode base64-encoded data URL");e=await WebAssembly.instantiate(a,n)}else{const i=await fetch(t),a=i.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&a.startsWith("application/wasm"))e=await WebAssembly.instantiateStreaming(i,n);else{const I=await i.arrayBuffer();e=await WebAssembly.instantiate(I,n)}}return e.instance.exports};function hn(){const n=new Uint8Array(4);if(typeof crypto>"u")throw new Error("The crypto object is unavailable. This may occur if your environment does not support the Web Cryptography API.");return crypto.getRandomValues(n),n}function mn(){const n=hn();return(n[0]<<3*8)+(n[1]<<2*8)+(n[2]<<1*8)+n[3]}URL=globalThis.URL;const r=await bn({"./rand.js":{generateInt32:mn},"./validate_error.js":{throwError:c}},vn),On=r.memory,Cn=r.initializeContext,Ln=r.isPoint,Yn=r.PUBLIC_KEY_INPUT,Bn=r.pointAdd,xn=r.PUBLIC_KEY_INPUT2,Kn=r.pointAddScalar,wn=r.TWEAK_INPUT,$n=r.xOnlyPointAddTweak,Dn=r.X_ONLY_PUBLIC_KEY_INPUT,Mn=r.xOnlyPointAddTweakCheck,Wn=r.X_ONLY_PUBLIC_KEY_INPUT2,Xn=r.pointCompress,Hn=r.pointFromScalar,Fn=r.PRIVATE_INPUT,kn=r.xOnlyPointFromScalar,Gn=r.xOnlyPointFromPoint,Zn=r.pointMultiply,Vn=r.privateAdd,jn=r.privateSub,zn=r.privateNegate,qn=r.sign,Jn=r.HASH_INPUT,Qn=r.EXTRA_DATA_INPUT,nt=r.SIGNATURE_INPUT,tt=r.signRecoverable,et=r.signSchnorr,it=r.verify,rt=r.recover,ot=r.verifySchnorr,lt=r.rustsecp256k1_v0_8_1_default_error_callback_fn,st=r.rustsecp256k1_v0_8_1_default_illegal_callback_fn,at=r.__data_end,ct=r.__heap_base,o=Object.freeze(Object.defineProperty({__proto__:null,EXTRA_DATA_INPUT:Qn,HASH_INPUT:Jn,PRIVATE_INPUT:Fn,PUBLIC_KEY_INPUT:Yn,PUBLIC_KEY_INPUT2:xn,SIGNATURE_INPUT:nt,TWEAK_INPUT:wn,X_ONLY_PUBLIC_KEY_INPUT:Dn,X_ONLY_PUBLIC_KEY_INPUT2:Wn,__data_end:at,__heap_base:ct,initializeContext:Cn,isPoint:Ln,memory:On,pointAdd:Bn,pointAddScalar:Kn,pointCompress:Xn,pointFromScalar:Hn,pointMultiply:Zn,privateAdd:Vn,privateNegate:zn,privateSub:jn,recover:rt,rustsecp256k1_v0_8_1_default_error_callback_fn:lt,rustsecp256k1_v0_8_1_default_illegal_callback_fn:st,sign:qn,signRecoverable:tt,signSchnorr:et,verify:it,verifySchnorr:ot,xOnlyPointAddTweak:$n,xOnlyPointAddTweakCheck:Mn,xOnlyPointFromPoint:Gn,xOnlyPointFromScalar:kn},Symbol.toStringTag,{value:"Module"})),d=new Uint8Array(o.memory.buffer),D=o.PRIVATE_INPUT.value,M=o.PUBLIC_KEY_INPUT.value,W=o.PUBLIC_KEY_INPUT2.value,X=o.X_ONLY_PUBLIC_KEY_INPUT.value,H=o.X_ONLY_PUBLIC_KEY_INPUT2.value,F=o.TWEAK_INPUT.value,k=o.HASH_INPUT.value,G=o.EXTRA_DATA_INPUT.value,Z=o.SIGNATURE_INPUT.value,s=d.subarray(D,D+b),l=d.subarray(M,M+h),V=d.subarray(W,W+h),_=d.subarray(X,X+T),j=d.subarray(H,H+T),f=d.subarray(F,F+rn),u=d.subarray(k,k+on),S=d.subarray(G,G+ln),P=d.subarray(Z,Z+L);function g(n,t){return n===void 0?t!==void 0?t.length:v:n?v:h}function $(n){try{return l.set(n),o.isPoint(n.length)===1}finally{l.fill(0)}}function _t(){o.initializeContext()}function ft(n){return dn(n)&&$(n)}function ut(n){return Tn(n)&&$(n)}function _n(n){return cn(n)&&$(n)}function Pt(n){return an(n)}function yt(n,t,e){U(n),U(t);const i=g(e,n);try{return l.set(n),V.set(t),o.pointAdd(n.length,t.length,i)===1?l.slice(0,i):null}finally{l.fill(0),V.fill(0)}}function dt(n,t,e){U(n),N(t);const i=g(e,n);try{return l.set(n),f.set(t),o.pointAddScalar(n.length,i)===1?l.slice(0,i):null}finally{l.fill(0),f.fill(0)}}function Tt(n,t){U(n);const e=g(t,n);try{return l.set(n),o.pointCompress(n.length,e),l.slice(0,e)}finally{l.fill(0)}}function At(n,t){A(n);const e=g(t);try{return s.set(n),o.pointFromScalar(e)===1?l.slice(0,e):null}finally{s.fill(0),l.fill(0)}}function It(n){A(n);try{return s.set(n),o.xOnlyPointFromScalar(),_.slice(0,T)}finally{s.fill(0),_.fill(0)}}function Et(n){U(n);try{return l.set(n),o.xOnlyPointFromPoint(n.length),_.slice(0,T)}finally{l.fill(0),_.fill(0)}}function Ut(n,t,e){U(n),N(t);const i=g(e,n);try{return l.set(n),f.set(t),o.pointMultiply(n.length,i)===1?l.slice(0,i):null}finally{l.fill(0),f.fill(0)}}function St(n,t){A(n),N(t);try{return s.set(n),f.set(t),o.privateAdd()===1?s.slice(0,b):null}finally{s.fill(0),f.fill(0)}}function Nt(n,t){if(A(n),N(t),B(t))return new Uint8Array(n);try{return s.set(n),f.set(t),o.privateSub()===1?s.slice(0,b):null}finally{s.fill(0),f.fill(0)}}function Rt(n){A(n);try{return s.set(n),o.privateNegate(),s.slice(0,b)}finally{s.fill(0)}}function gt(n,t){C(n),N(t);try{_.set(n),f.set(t);const e=o.xOnlyPointAddTweak();return e!==-1?{parity:e,xOnlyPubkey:_.slice(0,T)}:null}finally{_.fill(0),f.fill(0)}}function pt(n,t,e,i){C(n),C(e),N(t);const a=i!==void 0;a&&Nn(i);try{if(_.set(n),j.set(e),f.set(t),a)return o.xOnlyPointAddTweakCheck(i)===1;{o.xOnlyPointAddTweak();const I=_.slice(0,T);return fn(I,e)===0}}finally{_.fill(0),j.fill(0),f.fill(0)}}function vt(n,t,e){R(n),A(t),K(e);try{return u.set(n),s.set(t),e!==void 0&&S.set(e),o.sign(e===void 0?0:1),P.slice(0,L)}finally{u.fill(0),s.fill(0),e!==void 0&&S.fill(0),P.fill(0)}}function bt(n,t,e){R(n),A(t),K(e);try{u.set(n),s.set(t),e!==void 0&&S.set(e);const i=o.signRecoverable(e===void 0?0:1);return{signature:P.slice(0,L),recoveryId:i}}finally{u.fill(0),s.fill(0),e!==void 0&&S.fill(0),P.fill(0)}}function ht(n,t,e){R(n),A(t),K(e);try{return u.set(n),s.set(t),e!==void 0&&S.set(e),o.signSchnorr(e===void 0?0:1),P.slice(0,L)}finally{u.fill(0),s.fill(0),e!==void 0&&S.fill(0),P.fill(0)}}function mt(n,t,e,i=!1){R(n),U(t),w(e);try{return u.set(n),l.set(t),P.set(e),o.verify(t.length,i===!0?1:0)===1}finally{u.fill(0),l.fill(0),P.fill(0)}}function Ot(n,t,e,i=!1){R(n),w(t),gn(t),e&2&&pn(t),Rn(()=>_n(t.subarray(0,32)));const a=g(i);try{return u.set(n),P.set(t),o.recover(a,e)===1?l.slice(0,a):null}finally{u.fill(0),P.fill(0),l.fill(0)}}function Ct(n,t,e){R(n),C(t),w(e);try{return u.set(n),_.set(t),P.set(e),o.verifySchnorr()===1}finally{u.fill(0),_.fill(0),P.fill(0)}}const Yt=Object.freeze(Object.defineProperty({__proto__:null,__initializeContext:_t,isPoint:ft,isPointCompressed:ut,isPrivate:Pt,isXOnlyPoint:_n,pointAdd:yt,pointAddScalar:dt,pointCompress:Tt,pointFromScalar:At,pointMultiply:Ut,privateAdd:St,privateNegate:Rt,privateSub:Nt,recover:Ot,sign:vt,signRecoverable:bt,signSchnorr:ht,verify:mt,verifySchnorr:Ct,xOnlyPointAddTweak:gt,xOnlyPointAddTweakCheck:pt,xOnlyPointFromPoint:Et,xOnlyPointFromScalar:It},Symbol.toStringTag,{value:"Module"}));export{Yt as e};
